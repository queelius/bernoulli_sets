## Review Summary

**Overall Assessment**: The paper presents a genuinely useful and original probabilistic framework for approximate sets, with correct and well-structured core derivations (set-theoretic error rates, closure properties). However, it is not ready for submission in its current state: several sections contain incomplete content (literal placeholder text, commented-out proofs, question marks), notation is inconsistent across sections, the related-work and references are severely underdeveloped, and the introduction does not deliver on the paper's central thesis with sufficient precision or conviction.

**Recommendation**: major-revision

**Strengths**:
1. The central mathematical contribution -- deriving closed-form error rates for complement, union, intersection, and set-difference of Bernoulli sets -- is correct and well-proven. The partition-based proof structure in `set_theory.tex` is clean and rigorous.
2. The closure theorems and the grammar characterizing positive/negative Bernoulli set expressions (\cref{eq:grammar_exp,eq:grammar_nexp}) are a nice structural result.
3. The Boolean search application in `bool_search.tex` is a compelling, well-scoped demonstration of compositionality: showing that result-set Bernoulli properties follow from index Bernoulli properties is exactly the right way to illustrate the framework's value.
4. The entropy derivation (`entropy.tex`) is concise and mathematically sound, including the correct asymptotic error-term combination.
5. The summary table (Table 1 in `set_theory.tex`) and the contingency table are good pedagogical tools.

**Weaknesses**:
1. Several sections contain literal incomplete content: `uncertain_rates.tex` has `\Interval{\fnrate} = ?` and `\Interval{\fprate} = ?` as published equations. The `adt.tex` section contains `Indeed, at $|U| = 2$, the probability of this outcome is ?.` These are drafting artifacts that must be resolved before submission.
2. The introduction is thin and reads as a roadmap list, not a proper motivating argument. The central thesis of compositionality is never stated crisply in the introduction.
3. The bibliography is critically deficient: most entries lack journal, volume, year, DOI, or URL; many are unpublished self-references with no venue or year; the Bloom filter is mis-cited (wrong paper); Hoeffding's inequality entry is misspelled and empty.
4. The relational section (`relational.tex`) has its central theorem stated without a proof (proof is commented out), making it an unproven claim.
5. Notation is inconsistent: the approximate set is written as $\tilde{A}^\fprate_\tprate$, $\tilde{A}[\fprate][\fnrate]$, $\tilde{A}^\fprate_\fnrate$, and $\ASet{A}[\fprate][\tprate]$ across sections with no reconciliation.
6. The `derived_distributions_higher_order.tex` section is skeletal (45 lines of actual content) and does not deliver its stated purpose of characterizing higher-order composition distributions.
7. The Axiom 2 (`bernoulli_model.tex`) introduces an $n$-th order model but the body of the paper primarily treats the first-order case; the higher-order model is never fully formalized or exploited in the theorems.

---

## Critical Issues

### Issue C1: Incomplete equations published as-is
**Location**: `sections/uncertain_rates.tex`, lines 93--98
**Problem**: The section contains two equations with literal question marks as their right-hand sides:
```latex
\Interval{\fnrate} = ?
\Interval{\fprate} = ?.
```
These are clearly unfinished placeholders. If the PDF is compiled and submitted, these appear verbatim in the paper. This makes the section scientifically meaningless and will cause immediate desk rejection.
**Suggestion**: Either derive the confidence intervals for the interval-valued rates (using the CLT-based results already in `distributions.tex`) or remove this subsection entirely if it cannot be completed in time.

### Issue C2: Unproven theorem in relational section
**Location**: `sections/relational.tex`, lines 21--29 (the subset theorem) and lines 32--167 (the proof, fully commented out)
**Problem**: The central theorem of the relational section --- the probability that $\tilde{X} \subseteq \tilde{Y}$ given $X \subseteq Y$ --- has its proof entirely commented out with `% \begin{proof}` ... `% \end{proof}`. The theorem is therefore an unproven assertion. The corollary that $\tilde{X} = \tilde{Y}$ given $X = Y$ also depends on this unproven theorem; its "proof" (lines 180--185) consists of citing `def:eq_pred` and writing a single equation without any derivation.
**Suggestion**: Either restore and clean the commented-out proof (it appears largely correct in the comments), or promote the theorem to a proposition and explicitly note the proof is omitted. Do not leave a theorem with no proof.

### Issue C3: Placeholder text in the ADT section
**Location**: `sections/adt.tex`, line 86
**Problem**: The text reads: "Indeed, at $|U| = 2$, the probability of this outcome is ?.". This is a literal placeholder that cannot appear in a submitted paper.
**Suggestion**: Compute the value (it should be straightforward for $|U|=2$, $k$ hash slots all mapping to the same hash) or rephrase the paragraph to avoid the specific claim.

### Issue C4: Bibliography is critically underdeveloped
**Location**: `references.bib`
**Problem**: Multiple severe deficiencies:
- The Bloom filter citation `\cite{bf}` cites "Network Applications of Bloom Filters: A Survey" by Broder and Mitzenmacher (2005). This is a survey, not the original Bloom filter paper. The original is: B.H. Bloom, "Space/time trade-offs in hash coding with allowable errors," *CACM*, 1970. Using a survey as the primary reference for the Bloom filter understates the provenance.
- Entry `hoeffding`: author is spelled "Hoeffing" (missing 'd'), no title text, no journal, no year, no DOI. This is a stub entry for a foundational result.
- Entries `phf`, `aset`, `faset`, `oph`, `omap`, `oset`, `sibool`, `orel`, `pmf` are all unpublished self-references with no venue, no URL, and no year (or year=2018 with no other detail). None of these can be followed up by a reader.
- Entry `obset` has a placeholder URL `http://example.com`.
- Entry `cantor` appears to be included but is never cited in the text (search reveals no `\cite{cantor}` usage in the sections reviewed).
- Entry `chd` lacks journal, year, and page numbers despite being a published conference paper.
- Entry `simple` has the author field listing "Fabiano C. Botelho1" (note the trailing "1").
**Suggestion**: Replace the Bloom filter citation with the original 1970 paper. Fill in all bibliographic details for cited works. Remove or complete entries for unpublished self-references.

---

## Major Issues

### Issue M1: Introduction does not state the thesis
**Location**: `sections/intro.tex`, entire section
**Problem**: The introduction consists almost entirely of a section-by-section roadmap ("In Section X, we... In Section Y, we..."). The central thesis -- that Bernoulli sets form a compositionally closed framework from which all error rates of set-theoretic expressions are computable -- is never stated as a clear claim with motivation. A reader does not know why compositional closure matters, what problem it solves, or why prior work does not solve it. There is no related-work discussion, no identification of the gap in the literature, and no statement of what is novel.
**Suggestion**: Restructure the introduction as: (1) Motivate approximate sets with 2-3 sentences on the real-world setting, (2) Identify the specific gap: prior work analyzed Bloom filters in isolation but lacks a compositional algebra, (3) State the main contribution as a theorem or informal claim, (4) Briefly contrast with prior work (probabilistic data structures literature, fuzzy sets, etc.), (5) Keep the roadmap but make it shorter. The "Bernoulli Types" subsection (1.1) reads as introductory background material that may belong in the model section.

### Issue M2: Axiom formulations are imprecise
**Location**: `sections/bernoulli_model.tex`, lines 11--23
**Problem**: Axiom 1 states element-wise independence using the expression $P(\mathbf{1}_{\tilde{A}}(x) \neq \mathbf{1}_A(x) | \mathbf{1}_{\tilde{A}}(y) \neq \mathbf{1}_A(y)) = P(\mathbf{1}_{\tilde{A}}(x) \neq \mathbf{1}_A(x))$ for a specific pair $(x,y)$, but does not say "for all $x \neq y \in U$". The statement as written only characterizes pairwise independence for one pair, not the full mutual independence needed for the subsequent product formulas. Axiom 2 references "random errors $\alpha_1, \ldots, \alpha_n$" and "partition blocks $1, \ldots, n$" without defining what the partition is or how the blocks relate to the first-order model. The variable $R$ is used (conditionally independent given $R$) but $R$ is not formally defined in this context.
**Suggestion**: In Axiom 1, add "for all distinct $x, y \in U$" and explicitly state that this implies mutual independence (or state mutual independence directly). In Axiom 2, define the partition $\{B_1, \ldots, B_n\}$ of $U$ formally before the axiom, define what "random error $\alpha_i$" means for block $i$, and clarify the role of $R$ (presumably the objective set).

### Issue M3: Theorem 1 (composition of identity functions) has no proof
**Location**: `sections/bernoulli_model.tex`, lines 131--134 (Theorem 1: `thm:composition_rates`)
**Problem**: The theorem states that composing $\APFun{id}[\fprate][\tprate] \circ \APFun{id}[\fprate'][\tprate']$ produces rates $\tprate \tprate' + \fnrate \fprate'$ and $\fprate \tprate' + \tnrate \fprate'$, but there is no proof. This is one of the paper's foundational results and should be proven or referenced.
**Suggestion**: Add a short proof: for an element $x \in A$, it tests positive in the second stage with probability $\tprate'$ and tests positive in the first stage given it tested positive in the second stage with probability $\tprate$; etc. A two-by-two table over positive/negative outcomes suffices.

### Issue M4: Variable name collision between $\alpha_i$ proportions and false positive rate $\alpha$
**Location**: `sections/set_theory.tex` throughout, `sections/derived_distributions_higher_order.tex` line 24
**Problem**: The paper uses $\alpha$ (without subscript) to denote the random false positive rate throughout `bernoulli_model.tex` and `distributions.tex`. In `set_theory.tex` and `derived_distributions_higher_order.tex`, $\alpha_1, \alpha_2, \alpha_3$ are repurposed as partition-weight proportions. This creates a collision: a reader naturally reads $\alpha_1$ as "the false positive rate for the first set" (as it is used in `bernoulli_model.tex` line 22, "random errors $\alpha_1, \ldots, \alpha_n$"). The summary table (Table 1) also uses $\fprate_1, \fprate_2$ for false positive rates, but $\alpha_1, \alpha_2, \alpha_3$ for proportions -- these coexist in the same theorem statements.
**Suggestion**: Use a distinct symbol for the partition proportions throughout, e.g., $\pi_1, \pi_2, \pi_3$ or $w_1, w_2, w_3$, and reserve $\alpha_i$ exclusively for the per-block false positive rates as introduced in Axiom 2.

### Issue M5: Higher-order section (Section 5) does not justify its existence
**Location**: `sections/derived_distributions_higher_order.tex`, entire section
**Problem**: The section title promises "Probability distributions of parameters for higher-order approximations." The actual content is: a 3-line statement about the union of two first-order sets producing a "third-order" set (without proof or derivation), a brief remark about asymptotic normal distributions, and a footnote remark about convergence of intersections of positive sets. None of the higher-order composition theorems stated in `bernoulli_model.tex` (Theorems 1 and 2) are developed here. The $\Delta$ expression on line 17 is introduced without justification or connection to the rest of the paper.
**Suggestion**: Either (a) fully develop the higher-order composition theory with proofs connecting Theorem 1/2 in `bernoulli_model.tex` to the error-rate formulas in `set_theory.tex`, or (b) merge this section's content into the relevant places (the remark about convergence belongs in `distributions.tex`) and remove the section header. A section of 45 lines with one unproven formula does not stand alone.

### Issue M6: Equation numbering/typo in `distributions.tex` theorem statement
**Location**: `sections/distributions.tex`, line 287
**Problem**: The definition of $\sigma_{f_p}^2$ in Theorem `thm:approx_expected_precision` reads: "and $\sigma_{\!f_\p}^2 = (1-\fprate) \overline{t}_\p$ is the variance of false positive frequency." This is wrong. The variance of $\FP_n \sim \mathrm{Bin}(n, \fprate)$ is $n \fprate (1-\fprate) = \overline{f}_\p (1-\fprate)$, not $(1-\fprate)\overline{t}_\p$. The appendix proof (line 151 of `appendix.tex`) correctly states $\Var{FP_n} = n \fprate \tnrate$, and the final formula in the appendix is correct. Only the inline definition in the theorem statement is wrong -- it uses $\overline{t}_\p$ (expected true positives) where it should use $\overline{f}_\p$ (expected false positives).
**Suggestion**: Correct line 287 to read "$\sigma_{\!f_\p}^2 = (1-\fprate)\overline{f}_\p$".

### Issue M7: Section 7 (Relational) contains proofs for the wrong claims
**Location**: `sections/relational.tex`, lines 169--185
**Problem**: The first corollary claims to give the probability that $\tilde{X} = \tilde{Y}$ given $X = Y$ with two independent sets. Its "proof" cites `def:eq_pred` and writes one equation involving a product of two probabilities, but the equation uses $X \subset Y$ (proper subset) rather than $X = Y$ in the conditioning event. This appears to be a copy-paste error. Additionally, the exponents in the corollary at line 172 have $|Y| - |X|$ which equals zero when $X = Y$, making those terms 1 as expected -- but the expression is needlessly confusing since the theorem is stated for $X = Y$.
**Suggestion**: When $X = Y$, the expression simplifies significantly. State the corollary using the simplified form, or at least verify that the general formula degenerates correctly. Fix the conditioning event from $X \subset Y$ to $X = Y$.

### Issue M8: Space complexity postulate is stated without proof or citation
**Location**: `sections/adt.tex`, lines 140--147 (Postulate `pst:approx_l_b`)
**Problem**: The information-theoretic lower bound of $-\tprate \log_2 \fprate$ bits per element is stated as a "postulate" (not a theorem), but no derivation, reference, or argument is given. The standard result (from Cover and Thomas, or from the original Bloom filter analysis) gives $-\log_2 \fprate$ bits per element for the positive-only case. The generalization to $\tprate \cdot (-\log_2 \fprate)$ bits for the general case needs justification: it is non-obvious why the bound scales with $\tprate$.
**Suggestion**: Either prove the bound from first principles using an entropy argument (the optimal code for a set with $p$ positives and false positive rate $\fprate$ requires $H(\fprate)$ bits per negative plus $H(\tprate)$ bits per positive, leading to the stated form), or cite a reference that establishes it. If it genuinely is only a conjecture, call it a conjecture.

---

## Minor Issues

### Issue m1: Typo -- "false false negative rate"
**Location**: `sections/distributions.tex`, line 122
**Problem**: "However, the false false negative rate of an approximate set..." (doubled "false").
**Suggestion**: Remove the duplicate word: "the false negative rate of an approximate set."

### Issue m2: Typo -- "binomailly"
**Location**: `sections/appendix.tex`, line 151
**Problem**: "TP_p is binomailly distributed" -- misspelled.
**Suggestion**: "binomially."

### Issue m3: Typo -- "aquring" and "a posterior"
**Location**: `sections/adt.tex`, lines 89 and 69
**Problem**: "acquring" should be "acquiring"; "a posterior" should be "a posteriori" (Latin phrase requires the full form).
**Suggestion**: Correct both.

### Issue m4: Floating equation in `uncertain_rates.tex`
**Location**: `sections/uncertain_rates.tex`, lines 69--80
**Problem**: The example contains a complex equation for `acc([fprate],[fnrate]; [lambda])` that is syntactically incomplete -- the `\end{example}` tag appears before the example's discussion is complete, and the `f(\bar{fprate}, \bar{fnrate})` notation is undefined (what is the function `f` here?).
**Suggestion**: Complete or remove the example. If it is meant to illustrate interval arithmetic, it needs a concrete definition of the bounding function.

### Issue m5: Theorem `thm:uncertain_rates_comp_set` is stated without proof
**Location**: `sections/uncertain_rates.tex`, lines 101--107
**Problem**: The theorem that the complement of an approximate set with interval-valued rates has swapped interval rates is stated but not proven. It is true and follows trivially from `thm:complement_rates`, but for a theorem it should at least say "follows immediately from Theorem X."
**Suggestion**: Add a one-line proof by reference.

### Issue m6: Notation inconsistency for approximate sets
**Location**: Throughout the paper
**Problem**: The approximate set is written as:
- $\tilde{A}^\fprate_\tprate$ (bernoulli_model, distributions, appendix)
- $\tilde{A}[\fprate][\tprate]$ (bernoulli_model, bool_search)
- $\ASet{A}[\fprate][\tprate]$ (set_theory, higher_order, bernoulli_model)
- $\hat{A}$ (algebra_of_sets)
- $\tilde{A}^\fprate_\fnrate$ vs $\tilde{A}^\tprate_\fprate$ (the subscript/superscript placement varies)

The notation reference in the appendix writes $\tilde{A}^\fnrate_\fprate$ (FNR in superscript, FPR in subscript), which is the opposite of what appears in most sections where $\fprate$ is in superscript. This is not just an aesthetic issue -- a reader who uses the appendix notation reference to decode formulas elsewhere in the paper will systematically misread rates.
**Suggestion**: Pick one canonical notation and apply it throughout. The bracket notation $\ASet{A}[\fprate][\fnrate]$ is the clearest typographically. Update the notation appendix to match.

### Issue m7: The figure reference in `distributions.tex` may not compile
**Location**: `sections/distributions.tex`, line 301
**Problem**: `\input{img/out.pdf_tex}` -- this file must exist and be generated from a pgf/TikZ workflow. If the build system does not regenerate this file from source, the figure will be missing in the compiled PDF. The same issue applies to `\input{img/norms.pdf_tex}` in `uncertain_rates.tex`.
**Suggestion**: Verify that all `pdf_tex` files are present and included in version control.

### Issue m8: Comma after equation at end of theorem environment
**Location**: Multiple locations (`distributions.tex` lines 287, 339; `appendix.tex` line 42; `adt.tex` lines 101, 109, 114, etc.)
**Problem**: Equations inside theorem environments end with `\end{equation},` -- the comma after `\end{equation}` is a LaTeX formatting issue that places the comma after the display, which is correct in running text but should not appear when the equation is the last element in the environment.
**Suggestion**: Check all equations followed by `},` -- in most cases the comma should be removed or placed inside the math environment.

### Issue m9: Algorithm 1 is incomplete
**Location**: `sections/bool_search.tex`, Algorithm 1, lines 83--103
**Problem**: The `\ElseIf` branch handles `h = OrOp` (disjunction) but there is no corresponding branch for `h = AndOp` (conjunction). The algorithm falls through to the `\Else` branch for conjunction, which treats it as an atomic key lookup. This means the algorithm as written does not implement AND queries.
**Suggestion**: Add an `\ElseIf{h = AndOp}` branch that computes the intersection of `Find(Left(t))` and `Find(Right(t))`.

### Issue m10: Overloaded use of $\lambda$ without introduction
**Location**: `sections/distributions.tex`, lines 333--340 and 449
**Problem**: The variable $\lambda = p/(p+n)$ is introduced inline in Theorem `thm:approx_expected_accuracy` without prior definition. It then appears again in the example on line 449 with the constraint "$0 \leq \lambda \leq \gamma \leq 1$" but the relationship between $\lambda$ and $\gamma$ is not stated in the example setup.
**Suggestion**: Define $\lambda$ as the base rate (prevalence) before the theorem, possibly in a standalone definition.

### Issue m11: Bernoulli types subsection is disconnected
**Location**: `sections/intro.tex`, lines 48--55 (subsection 1.1)
**Problem**: The "Bernoulli Types" subsection discusses a general framework for Bernoulli types ($\bernoulli{T}$ for any type $T$) and mentions Count-Min sketches. However, Count-Min sketches are never discussed again in the paper, and the general $\bernoulli{T}$ framework is not developed. This subsection raises expectations the paper does not fulfill.
**Suggestion**: Either expand the paper to treat Bernoulli types in general (with a section on Bernoulli functions/maps, not just sets), or remove the generalization and keep the introduction focused on Bernoulli sets specifically.

### Issue m12: Missing citation for the central limit theorem invocation
**Location**: `sections/distributions.tex`, line 199 (proof of Theorem `thm:approxfpr`)
**Problem**: The proof invokes the central limit theorem by name without citation. While CLT is standard, the paper cites Hoeffding's inequality (a less elementary result) -- consistency requires either citing CLT or removing the Hoeffding citation and relying on the same CLT argument.
**Suggestion**: Add a citation to a standard probability textbook (e.g., Billingsley or Feller) for the CLT.

### Issue m13: The `\bernoulli{T}` macro is used but may not be defined in alex.sty
**Location**: `sections/intro.tex`, line 50
**Problem**: `$\bernoulli{\mathrm{bool}}$` and `$\bernoulli{T}$` are used in Section 1.1 but the macro `\bernoulli` is not visible in the portion of `alex.sty` read. If undefined, this will cause a compilation error.
**Suggestion**: Verify that `\bernoulli` is defined in `alex.sty`, or add a definition for it.

### Issue m14: "maximum entropy" claim needs justification
**Location**: `sections/distributions.tex`, line 207
**Problem**: The statement "The random approximate set model is the maximum entropy probability distribution for the indicated false positive and true positive rates" is made without proof or citation. Maximum entropy characterizations require a theorem. The binomial distribution is indeed the maximum entropy distribution over $\{0,1,\ldots,n\}$ with a fixed mean -- but this needs to be stated precisely (the constraint set must be specified) and justified.
**Suggestion**: State this as a proposition with a proof sketch, or cite Shannon's maximum entropy theorem.

---

## Suggestions

1. **Restructure Section 3 (Bernoulli model)**: The section currently mixes axioms, derived properties, probability space formalism, and the higher-order model. Consider separating the first-order model (Axioms 1-2, basic probability space) from the higher-order model (Theorems 1-2) into two subsections with cleaner connective text.

2. **Add a related work section**: The paper references Bloom filters and perfect hash filters but never situates itself relative to the broader literature on probabilistic data structures (Mitzenmacher's "Network Applications" survey, the Cuckoo filter, XOR filter, etc.), fuzzy sets (Zadeh), rough sets (Pawlak), or probabilistic approximate query answering. Even three paragraphs of related work would substantially improve the paper's positioning.

3. **Consider removing or condensing Section 8 (Uncertain rates)**: The section as written is the least polished section in the paper, with placeholder content, an incomplete example, and only one proven theorem. The core ideas (interval arithmetic for uncertain rates) could be merged into a remark within the main model section, freeing space for the more important developments.

4. **The grammar for positive/negative expressions** (equations for $\langle\text{exp}\rangle$ and $\langle\text{nexp}\rangle$ in `set_theory.tex`) is a useful structural result but the grammar only covers union, not intersection. The text acknowledges that intersection of positive sets is positive, but the grammar production rules use `\cup` in both alternatives. The productions should be extended or a note added explaining why intersection is omitted (it is already expressible via De Morgan using the existing rules).

5. **The appendix notation reference** is useful but currently duplicates definitions given inline throughout the paper. Consider whether it is better placed as a table at the front of the paper (after the abstract) or whether the inline definitions are sufficient to make the appendix redundant.

6. **Venue suggestion**: Based on the content, appropriate venues include:
   - *Journal of the ACM* or *ACM Transactions on Database Systems* (if the abstract data type and application aspects are emphasized)
   - *IEEE Transactions on Information Theory* (if the entropy and information-theoretic bounds are developed further)
   - *Theoretical Computer Science* (for the algebraic structure results)
   - Conference: *PODS* (ACM Symposium on Principles of Database Systems) or *VLDB* (Very Large Data Bases) if the boolean search application is the primary story.
   The current paper is too broad for a tight conference venue but would suit a journal willing to accommodate a longer treatment. The most natural fit given the probabilistic data structures framing is *ACM Transactions on Algorithms* or a special issue of *Theoretical Computer Science* on probabilistic methods.

---

## Detailed Section-by-Section Notes

### Section 1: Introduction
- Lines 6-8: Commented-out text about $\neg : \Bool^{\fnrate}_{\fprate}$ is left in the source. This is not rendered but reflects an incomplete idea about approximate Boolean logic that is never developed.
- The bit-string serialization motivation (lines 17-20) is useful but abrupt -- the connection to Bernoulli sets is implicit. A single connecting sentence would help.
- The "Bernoulli Types" subsection (1.1) makes promises (Count-Min sketches, general type framework) that the paper does not fulfill. It should be scoped to what the paper actually delivers.

### Section 2: Algebra of sets
- This section is standard background material, competently written. It is longer than necessary for readers with any set-theory background. Consider condensing it to 1 page with a note that it serves as notation reference, or moving most of it to the appendix.
- The subsection on "Approximate sets" (2.1) could be the start of Section 3, since it introduces the core objects of study. Having it as a subsection of "Algebra of sets" buries the definition.

### Section 3: Bernoulli set model
- Equations (3.2) and (3.3): the model defines $\alpha$ (FPR) as $\frac{1}{|A^c|} \sum_{x \in A^c} \mathbf{1}_{\tilde{A}}(x)$ and $\beta$ (FNR) as $\frac{1}{|A|} \sum_{x \in A} \mathbf{1}_{\tilde{A}}(x)$. Note that equation (3.3) is labeled `\label{asm:tprate}` but defines $\beta$ (the FNR), not $\tprate$ (the TPR). This label mismatch causes problems: `\cref{asm:tprate}` in later proofs actually refers to the FNR definition. The label should be `asm:fnrate` or the equation should be redefined to give $\tprate$ directly.
- The paragraph at lines 105-110 is key: it states that first-order compositions are not closed over the first-order model. This is the key motivation for the higher-order model. It deserves more prominence -- perhaps a dedicated remark or theorem.
- Line 265 at the end of the section: the very long sentence beginning "The true set, call it $\Set{A}$..." appears to be a paragraph added at a different time than the rest of the section (different writing style, introduces the word "order" in a new way). This paragraph should be integrated earlier or removed.

### Section 4: Distributions of binary classification measures
- The "Other binary performance measures" subsection (4.3) is well-executed and the delta-method approximation for PPV is correctly derived.
- The observation at line 308 ("as $n \to \infty$, $\ppv \to 0$") is important and deserves comment: this is the "false positive dilution" effect that makes recall-biased systems (high FPR) useless for large negative classes. This observation connects to the information retrieval literature and could be a point of discussion.
- The example at line 436 works out the FPR for a target accuracy -- this is a nice example but is somewhat isolated. A brief sentence explaining its relevance (e.g., "this allows a system designer to choose FPR to meet an accuracy target") would improve it.

### Section 5: Higher-order distributions
- As noted in Major Issue M5, this section is underdeveloped. The $\Delta$ expression on line 17 is not consistent with the union FPR formula derived in Section 6 (which uses $1 - (1-\fprate_1)(1-\fprate_2)$, not a mixture). The mixture formula seems to be computing the expected FPR over the partition, which is a different calculation from the point FPR. This discrepancy needs to be explained or resolved.
- The remark about convergence of intersections of positive sets (footnote, line 43) is mathematically interesting and could be developed into a proper proposition.

### Section 6: Set-theoretic operations
- This is the strongest section in the paper. The proofs are clear, the partition strategy is consistent across all four operations, and the corollaries are correct.
- One observation worth making explicit: for the **union FNR formula**, the weights $\alpha_1, \alpha_2, \alpha_3$ sum to 1 (since $A_1 \setminus A_2$, $A_2 \setminus A_1$, and $A_1 \cap A_2$ partition $A_1 \cup A_2$). Similarly for the **intersection FPR formula**, the weights sum to 1 (since $A_1 \setminus A_2$, $A_2 \setminus A_1$, and $U \setminus (A_1 \cup A_2)$ partition $U \setminus (A_1 \cap A_2)$). The text does not verify this normalization, which is necessary for the law of total probability application to be valid.
- The De Morgan duality observation (lines 454-462) is a nice structural insight but would benefit from being stated as a corollary, not just a remark.

### Section 7: Relational probabilities
- The title "Relational probabilities" is weak -- "Approximate relational predicates" or "Probabilistic relations on Bernoulli sets" would be more informative.
- The corollaries about infinite universal sets (lines 208-214) are trivially true but oddly placed. They make more sense as remarks within the model section.

### Section 8: Uncertain rates
- This section needs the most work. The motivating setup (lines 7-19) conflates two different things: (1) uncertainty about the rate parameters $\fprate, \tprate$, and (2) the variability of realized rates around their expectations. These are distinct concepts and the section should separate them clearly.
- The figure reference `\input{img/norms.pdf_tex}` has a caption that is identical to a figure caption in Section 4 ("Relative frequency of positive predictive values..."), suggesting a copy-paste error.

### Section 9: Abstract data type
- The space complexity postulate (lines 140-147) uses bits-per-element, but the formula $-\tprate \log_2 \fprate$ has an unusual dependence on $\tprate$. For the standard positive approximate set ($\tprate = 1$), this reduces to $-\log_2 \fprate$ bits per element, which matches the known information-theoretic lower bound. The $\tprate$ scaling is unusual -- a set with $\tprate < 1$ is required to store less information? This deserves careful justification.
- Line 113: "the population variance $s^2_\fprate = \frac{1}{|U_p|} \sum_{X \in U_p} \fprateob(X)$" is incorrect -- the formula given is the same as the mean, not the variance. The variance formula should subtract the mean and square.

### Section 10: Entropy
- The section is technically correct. The asymptotic expansion for binomial entropy is standard (attributed to various sources; a citation to Cover and Thomas would be appropriate here).
- The conditional entropy decomposition (equation for $\Entropy{\POS, \FP, \FN}$) is correct and interesting. However, no specific distribution for $\POS$ is given, making the general expression somewhat abstract. An example using the uniform distribution over $\{0,1,\ldots,u\}$ or the binomial distribution would give the reader something concrete.

### Section 11: Algebraic structure
- This section is clean and correct. The commutative monoid result is modest but useful for the generic programming application.
- The claim that approximate sets with **fixed** error rates do not form a semigroup is correct but the argument should be more explicit: the output error rates of a union depend on $\alpha_1, \alpha_2, \alpha_3$ (the partition weights), so two sets with the same $\fprate$ can produce a union with a different $\fprate$. One concrete example with numbers would make this vivid.

### Section 12: Boolean search
- The treatment is clean and the compositionality argument (atomic keys give Bernoulli result sets, set operations propagate the Bernoulli property) is the intended payoff of the paper.
- The cryptographic remark (lines 127-132) is correct but deflating: it admits that the main construction provides no meaningful confidentiality. Consider either removing this remark and focusing on a stronger construction, or adding a forward reference to what *would* provide confidentiality (the cited `obset`, `sibool` self-references, if they exist).
- The example with $k$-key conjunction (lines 156-178) has a subtle claim: the FPR lies in the interval $[\fprate^k, \fprate]$. The proof by induction is correct for the upper bound ($\fprate$) but the lower bound ($\fprate^k$) requires that the FPR of an intersection of positive Bernoulli sets with FPR $\fprate$ is at least $\fprate^k$. This follows from the intersection FPR formula in Section 6, but the argument should be made explicit rather than left implicit.

### Appendix
- The proof of `cor:fpr_as_vareps` correctly uses Hoeffding's inequality but the limiting argument is slightly informal: "as $\epsilon$ goes to 0, $\lim_{n\to\infty} \FP_n$ converges almost surely to $\fprate n$" is stated but the quantifier order (first $n \to \infty$ then $\epsilon \to 0$, or simultaneously?) should be clarified for a rigorous proof.
- The "Sampling distribution of arbitrary functions" appendix (lines 154-178) contains a formatting artifact: `\\Fun{g}` on line 178 (double backslash before `\Fun{g}`) which will produce a line-break followed by `Fun{g}` in the output.
- The Notation Reference appendix at the end is useful, but duplicates definitions from throughout the paper. If kept, it should be moved to the front matter (after the abstract) for maximum utility.
